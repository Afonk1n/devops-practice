## Однодневная подготовка к собесу DevOps (Laravel + Kubernetes)

Ниже — план на 1 день, ориентированный на вакансию из ЦИТ Факт и комментарии знакомого (Linux, Nginx, Git, Docker, Grafana, Kubernetes, CI/CD, Laravel-окружение).

### 0. Как пользоваться этим планом
- **Цель дня**: не стать синьором, а **начать понимать все слова из вакансии** и уметь уверенно говорить базовыми фразами + немного показывать руками (команды, конфиги).
- **Формат**: по каждому блоку:
  - быстро читаешь/смотришь теорию (я буду подсказывать),
  - делаешь 1–2 маленькие практики (команда, конфиг, файл),
  - выписываешь по 3–5 фраз, которые можешь сказать на собесе.
- **Приоритет**: если времени не хватает, двигайся по приоритету:
  1. Linux + Git
  2. Docker + Dockerfile
  3. Kubernetes базовые объекты
  4. Nginx + PHP-FPM (Laravel окружение)
  5. CI/CD (GitHub Actions / GitLab CI — на уровне примера)
  6. Helm + чуть-чуть IaC
  7. Мониторинг (Prometheus / Grafana) — на уровне общих понятий

---

### 1. Linux + Bash (1–1.5 часа)

**Что нужно уметь сказать и сделать:**
- что такое процесс, служба (service), логи;
- как посмотреть файлы, диски, процессы;
- как читать логи и искать по ним.

**Мини-практика:**
- базовые команды: `ls`, `cd`, `pwd`, `cat`, `less`, `tail -f`, `grep`, `ps aux`, `top/htop`, `df -h`, `du -sh`, `systemctl status ...` (на Windows можно через WSL или просто в теории, если не успеем).
- написать простой bash-скрипт на 3–5 строк (например, выводит дату и свободное место на диске).

**Что можно говорить на собесе (пример формулировок):**
- «С Linux работал на базовом уровне: навигация по файловой системе, просмотр логов через `tail`/`grep`, работа с процессами через `ps`, `top`».
- «Могу написать простой bash-скрипт для рутинных задач (сбор логов, проверка диска и т.п.)».

---

### 2. Git + базовый CI/CD (1 час)

**Цель:** понимать, как код попадает с разработки до сервера, и уметь прочитать простой pipeline.

**Мини-практика:**
- инициализировать репозиторий: `git init`, `git add .`, `git commit -m "init"`;
- сделать ветку: `git checkout -b feature/test`;
- замержить через `git merge` (даже локально).
- посмотреть пример pipeline:
  - GitHub Actions (`.github/workflows/ci.yml`) с шагами: checkout → build/test → docker build/push → deploy;
  - или GitLab CI (`.gitlab-ci.yml`) с этапами `stages: [build, test, deploy]`.

**Что уметь объяснить:**
- что такое **pipeline**, **job**, **stage**;
- куда обычно деплоят (Kubernetes, сервер, контейнерный регистр — Docker Hub, GitLab Registry и т.д.).

---

### 3. Docker и Dockerfile (1.5 часа)

**По вакансии важно:** «умение читать и отлаживать Dockerfile, работать с образами контейнеров».

**Мини-практика:**
- установить Docker (если ещё нет);
- запустить простой контейнер: `docker run -it --rm nginx`;
- прочитать и разобрать простой `Dockerfile` (например, для PHP-FPM или Nginx);
- собрать свой образ:
  - написать мини-Dockerfile (например, `FROM nginx:alpine`, положить `index.html`);
  - `docker build -t my-nginx .`;
  - `docker run -p 8080:80 my-nginx` и открыть в браузере `http://localhost:8080`.

**Что важно понять:**
- разница: **image / container**;
- слои образа, `FROM`, `COPY`, `RUN`, `CMD`, `ENTRYPOINT`, `EXPOSE`, `ENV`;
- как смотреть логи контейнера: `docker logs`.

**Фразы для собеса:**
- «Понимаю, как устроен Dockerfile, работал с базовыми инструкциями и собирал простые образы».
- «Могу локально поднять контейнер с Nginx, увидеть логи, пробросить порт на хост».

---

### 4. Nginx + PHP-FPM / Laravel окружение (1–1.5 часа)

**Цель:** понимать, как выглядит типичная связка Laravel‑приложения.

**Мини-практика (упрощённо):**
- посмотреть пример конфига Nginx для PHP (Laravel):
  - `server`, `listen`, `server_name`, `root`, `location /`, `location ~ \.php$`, `fastcgi_pass`;
- понять, где статика, где PHP;
- посмотреть docker-compose или Kubernetes-манифест, где есть:
  - контейнер с Nginx,
  - контейнер с PHP-FPM,
  - база (MySQL/PostgreSQL),
  - Redis (кэш/очереди).

**Что важно понимать:**
- HTTP-запрос → Nginx → PHP-FPM → приложение Laravel → база/Redis → ответ;
- что такое **health-check** (проверка `/health` или `/api/ping`);
- что такое **env-переменные** (`.env` для Laravel: база, Redis, очереди, кэш).

---

### 5. Kubernetes базовые объекты (2 часа)

**Это ключевой блок по вакансии.**

**Нужно понимать:**
- `Pod` — минимальная единица, один или несколько контейнеров;
- `Deployment` — контроллер, который следит за количеством реплик подов;
- `Service` — стабильный доступ к подам (ClusterIP, NodePort);
- `Ingress` — вход снаружи (обычно через Ingress Controller, тот же Nginx);
- `ConfigMap` — конфиги (не секретные);
- `Secret` — секреты (пароли, токены; base64);
- `Namespace`, `labels`, `selectors`.

**Мини-практика (в идеале через Minikube/Kind, но хотя бы на уровне файлов):**
- написать простой `deployment.yaml` для nginx;
- написать `service.yaml` для него;
- написать `ingress.yaml` (пусть даже абстрактный пример);
- написать `configmap.yaml` и `secret.yaml` (пара ключ/значение).

Если успеем поднять кластер локально:
- `kubectl apply -f deployment.yaml`;
- `kubectl get pods,svc,ingress`;
- `kubectl describe pod ...`;
- `kubectl logs ...`.

**Фразы для собеса:**
- «Понимаю базовые ресурсы Kubernetes: Pod, Deployment, Service, Ingress, ConfigMap, Secret, умею читать и писать простые манифесты».
- «Могу задеплоить простое приложение через Deployment + Service и повесить на него Ingress».

---

### 6. Helm и IaC (1 час)

**Цель:** хотя бы понимать слова «chart», «values», «template».

**Мини-практика:**
- посмотреть структуру простого Helm-чарта:
  - `Chart.yaml`,
  - `values.yaml`,
  - папка `templates/` с `deployment.yaml`, `service.yaml`, `ingress.yaml`.
- понять, как из Helm-шаблонов генерятся обычные Kubernetes-манифесты;
- команда (теоретически): `helm install my-app ./chart -f values.yaml`.

**Что важно говорить:**
- «Helm — это пакетный менеджер для Kubernetes, который позволяет шаблонизировать манифесты и переиспользовать их между окружениями».
- «Работал с простыми чартами: правил values, понимал, какие ресурсы разворачиваются».

---

### 7. Мониторинг, логирование, алертинг (Prometheus + Grafana) (0.5–1 час)

**Нужно на уровне понятий:**
- Prometheus:
  - собирает метрики по HTTP endpoint `/metrics`,
  - хранит временные ряды,
  - умеет алертить (Alertmanager).
- Grafana:
  - дашборды поверх данных (Prometheus, Loki и т.д.).

**Мини-практика (если успеем):**
- посмотреть пример `Prometheus`-таргета (как он «скрейпит» сервисы);
- посмотреть скрин/пример дашборда Grafana (что там обычно есть: CPU, память, ошибки, latency).

**Фразы:**
- «Понимаю, как устроен мониторинг в Kubernetes: Prometheus собирает метрики с приложений и кластера, Grafana визуализирует, алерты настраиваются через Alertmanager».
- «Знаю, какие базовые метрики важны: доступность, частота ошибок, время ответа, загрузка ресурсов».

---

### 8. Безопасность и сети в Kubernetes (0.5 часа)

**Минимум, который стоит знать:**
- `NetworkPolicy` — ограничивает сетевой трафик между подами/namespace;
- `Secret` — хранение чувствительных данных (но по умолчанию только base64, а не шифрование);
- базовая идея RBAC (roles, rolebindings, service accounts).

**Фразы:**
- «На базовом уровне понимаю сетевую модель Kubernetes и NetworkPolicy — можно ограничить, кто к кому может ходить внутри кластера».
- «Секреты в Kubernetes хранятся в `Secret`, доступ к ним даётся через env-переменные или volume».

---

### 9. Laravel-специфика (0.5–1 час)

Даже если ты не пишешь на Laravel, важно понимать:
- `.env` и конфиг окружения: база, очереди, кэш, APP_KEY, APP_ENV, APP_DEBUG;
- очереди (обычно через Redis + `php artisan queue:work`);
- миграции (`php artisan migrate`);
- кеширование конфигов (`php artisan config:cache`, `route:cache`).

**На собесе достаточно уметь сказать:**
- «Понимаю, как Laravel использует окружение: конфигурация через `.env`, подключения к базе и Redis, отдельные воркеры очередей».
- «Работал с деплоем Laravel-приложения на уровне окружения: env-переменные, миграции, кеш конфигов».

---

### 10. Вопросы для самопроверки (быстрая шпаргалка)

Пройдись по этим вопросам под конец дня:
- **Linux / Bash**
  - Могу ли я объяснить, как посмотреть логи сервиса и отфильтровать их по ключевому слову?
  - Могу ли я написать простой скрипт и объяснить, что он делает?
- **Git / CI/CD**
  - Понимаю ли я, что такое pipeline, stage и job?
  - Могу ли я по YAML‑файлу сказать, что примерно делает CI?
- **Docker**
  - Могу ли я объяснить разницу между образом и контейнером?
  - Могу ли я сходу прочитать простой Dockerfile и описать его шаги?
- **Kubernetes**
  - Могу ли я объяснить, как запрос попадает в Pod через Ingress → Service → Pod?
  - Понимаю ли я разницу между Pod и Deployment?
  - Знаю ли я, как выглядят ConfigMap и Secret?
- **Helm**
  - Понимаю ли я, что такое chart и values.yaml, чем Helm удобнее «голых» манифестов?
- **Monitoring**
  - Могу ли я за 2–3 предложения объяснить, как работают Prometheus и Grafana?
- **Laravel-окружение**
  - Понимаю ли я, какие переменные окружения обычно нужны Laravel-приложению?

---

### 11. Как мы можем работать дальше с тобой

Предлагаю такой формат:
- идём по блокам сверху вниз (можно не по порядку, а по приоритету);
- в каждом блоке:
  - я даю тебе мини‑выжимку теории и пример;
  - ты пробуешь выполнить команду/написать файл/ответить на вопрос;
  - если что-то не заходит — объясняю проще или с аналогиями.

Напиши, с какого блока хочешь начать **прямо сейчас** (я бы предложил начать с Docker или Kubernetes, потому что это самая «сочная» часть вакансии), и пойдём по шагам.


